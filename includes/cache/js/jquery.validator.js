
function luhnCheck(c){for (var c=c.replace(/\D/g,""),a=c.length%2,b=0,e=0;e<numberLength;e++){var d=c.charAt(e);e%2==a&&(d*=2,d>9&&(d-=9));b+=parseInt(d)}return b%10==0}function inArray(c,a,b){var e=!1,d,b=!!b;for (d in a)if (b&&a[d]===c||!b&&a[d]==c){e=!0;break}return e}function Validator(c){this.fObj=document.forms[c];var a=arguments.length>0?arguments[1]:!1;if (!this.fObj)return console.error("Could not get form object: "+c),!1;this.fObj.onsubmit=null;a?this.fObj.trigger=formSubmitHandler:this.fObj.onsubmit=formSubmitHandler;this.addValidation=addValidation;return!0}function formSubmitHandler(){for (var c=0;c<this.elements.length;c++)if (this.elements[c].val&&this.elements[c].val.vSet&&!this.elements[c].val.validate(this))return!1;return!0}function addValidation(c,a,b){var e=this.fObj[c];if (e){if (!e.val)e.val=new Val;e.val.add(c,a,b)}else if (elementArray=c.split("|"),elementArray.length>1)if (!this.fObj[elementArray[0]]||!this.fObj[elementArray[1]])console.error("Could not get the input objects");else{if (!this.fObj[elementArray[0]].val)this.fObj[elementArray[0]].val=new Val;this.fObj[elementArray[0]].val.add(c,a,b)}else console.error("Could not get the input object named: "+c)}function Val(){this.vSet=[];this.add=addVal;this.validate=validate}function addVal(c,a,b){this.vSet.push([c,a,b])}function validate(c){for (i=0;i<this.vSet.length;i++)if (!checkValidation(this.vSet[i][0],this.vSet[i][1],c))return alert(this.vSet[i][2]),elementArray=this.vSet[i][0].split("|"),c[elementArray[0]].focus(),!1;return!0}function valError(){return!1}function checkValidation(c,a,b){var a=a.split("="),e=a[0],d=a.length>1?a[1]:"",a=$(b[c]).val(),g={alnum:/[^A-Za-z0-9\ ]/,alnumhyphen:/[^A-Za-z0-9\-_]/,alpha:/[^A-Za-z]/,cc:/^(3[47]|4|5[1-5]|6011)/,csv:/[^-a-zA-Z0-9,\s]/,date:/^[\d]{4}-[\d]{2}-[\d]{2}$/,email:/^([a-zA-Z0-9_\-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9\-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,"float":/[^0-9\.]/,img:/^[0-9A-Za-z_ \-]+(.[jJ][pP][gG]|.[jJ][pP][eE][gG]|.[gG][iI][fF]|.[pP][nN][gG])$/,num:/[^0-9]/,phone:/[^0-9\- ()]/,URL:/(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?/,zip:/[^-0-9]/};switch (e){case"alnum":case"alnumhyphen":case"alpha":case"csv":case"float":case"num":case"phone":case"zip":b=a.search(g[e]);if (a.length>0&&b>=0)return!1;break;case"cc":b=a.replace(/\D/g,"");if (null==g.cc.exec(b))return!1;switch (b[0]){case"4":if (13!=b.length&&16!=b.length)return!1;var f=1;break;case"5":if (16!=b.length)return!1;f=2;break;case"6":if (16!=b.length)return!1;f=3;break;case"3":if (15!=b.length)return!1;f=4}if (!luhnCheck(b))return!1;"undefined"!=typeof f&&$("#"+d+" options:eq("+f-1+")").attr("selected",!0);break;case"date":case"email":case"URL":if (a.length>0&&null==a.match(g[e]))return!1;break;case"ext":b=d.split("|");a=a.split(".");a=a[a.length-1].toLowerCase();if (-1==b.indexOf(a))return!1;break;case"gt":if (parseInt(a)<=parseInt(d))return!1;break;case"image":case"img":b=a.split("\\");b=b[b.length-1].match(g.img);if (a.length>0&&b>=0)return!1;break;case"lt":if (parseInt(a)>=parseInt(d))return!1;break;case"match":a=c.split("|");if ($(b[a[0]]).val()!=$(b[a[1]]).val())return!1;break;case"maxlen":if (a.length>parseInt(d))return!1;break;case"minlen":if (a.length<parseInt(d))return!1;break;case"req":if (0==a.length||"checkbox"==b[c].type&&!b[c].checked)return!1;break;case"val":if (a!=d&a.length>0)return!1;break;case"!val":if (a==d&&a.length>0)return!1}return!0};