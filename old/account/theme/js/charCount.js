(function(b){b.fn.charCount=function(a){function e(c){var d=b(c).val().length,d=a.allowed-d;d<=a.warning&&0<=d?b(c).next().addClass(a.cssWarning):b(c).next().removeClass(a.cssWarning);0>d?b(c).next().addClass(a.cssExceeded):b(c).next().removeClass(a.cssExceeded);b(c).next().html(a.counterText+d)}a=b.extend({allowed:140,warning:25,css:"counter",counterElement:"span",cssWarning:"warning",cssExceeded:"exceeded",counterText:""},a);this.each(function(){b(this).after("<"+a.counterElement+' class="'+a.css+ '">'+a.counterText+"</"+a.counterElement+">");e(this);b(this).keyup(function(){e(this)});b(this).change(function(){e(this)})})}})(jQuery);